{"ast":null,"code":"var _jsxFileName = \"/Users/andrewhall-villiers/Downloads/match-report-app-final-complete/src/pages/UmpireAppointments.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nimport { useTournament } from \"../context/TournamentContext\";\nimport dayjs from \"dayjs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UmpireAppointments() {\n  _s();\n  const {\n    currentTournament\n  } = useTournament();\n  const [matches, setMatches] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(dayjs().format(\"YYYY-MM-DD\"));\n  useEffect(() => {\n    const fetchMatches = async () => {\n      if (!currentTournament) return;\n      try {\n        const matchesRef = collection(db, `tournaments/${currentTournament}/matches`);\n        const snapshot = await getDocs(matchesRef);\n        const data = snapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        setMatches(data);\n      } catch (error) {\n        console.error(\"Error fetching matches:\", error);\n      }\n    };\n    fetchMatches();\n  }, [currentTournament]);\n  const filteredMatches = matches.filter(match => {\n    var _match$date, _match$date$toDate;\n    const matchDate = dayjs(((_match$date = match.date) === null || _match$date === void 0 ? void 0 : (_match$date$toDate = _match$date.toDate) === null || _match$date$toDate === void 0 ? void 0 : _match$date$toDate.call(_match$date)) || match.date).format(\"YYYY-MM-DD\");\n    return matchDate === selectedDate;\n  });\n  const timeSlots = [...new Set(filteredMatches.map(m => m.time))].sort();\n  const courts = [\"Court 1\", \"Court 2\", \"Court 3\", \"Court 4\"];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold underline mb-4\",\n      children: \"Umpire Appointments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-4 mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: selectedDate,\n        onChange: e => setSelectedDate(e.target.value),\n        className: \"p-2 rounded bg-gray-700 text-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), timeSlots.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-yellow-400\",\n      children: [\"No matches found for \", selectedDate, \" in the selected tournament.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this) : timeSlots.map(time => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold mb-2\",\n        children: time\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n        children: courts.map(court => {\n          const match = filteredMatches.find(m => m.court === court && m.time === time);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-600 p-4 rounded shadow-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-semibold\",\n              children: court\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Type: \", (match === null || match === void 0 ? void 0 : match.division) || \"N/A\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: (match === null || match === void 0 ? void 0 : match.teams) || \"TBD vs TBD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"italic\",\n              children: [\"Umpire: \", (match === null || match === void 0 ? void 0 : match.umpire) || \"Unassigned\", \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"text-yellow-300 ml-2\",\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 63\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs mt-2\",\n              children: [\"Match ID: \", (match === null || match === void 0 ? void 0 : match.id) || \"-\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 21\n            }, this)]\n          }, court, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 19\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)]\n    }, time, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(UmpireAppointments, \"C6dFURmrK5OOeNkwg7PILL7di1w=\", false, function () {\n  return [useTournament];\n});\n_c = UmpireAppointments;\nvar _c;\n$RefreshReg$(_c, \"UmpireAppointments\");","map":{"version":3,"names":["useState","useEffect","collection","getDocs","db","useTournament","dayjs","jsxDEV","_jsxDEV","UmpireAppointments","_s","currentTournament","matches","setMatches","selectedDate","setSelectedDate","format","fetchMatches","matchesRef","snapshot","data","docs","map","doc","id","error","console","filteredMatches","filter","match","_match$date","_match$date$toDate","matchDate","date","toDate","call","timeSlots","Set","m","time","sort","courts","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","length","court","find","division","teams","umpire","_c","$RefreshReg$"],"sources":["/Users/andrewhall-villiers/Downloads/match-report-app-final-complete/src/pages/UmpireAppointments.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nimport { useTournament } from \"../context/TournamentContext\";\nimport dayjs from \"dayjs\";\n\nexport default function UmpireAppointments() {\n  const { currentTournament } = useTournament();\n  const [matches, setMatches] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(dayjs().format(\"YYYY-MM-DD\"));\n\n  useEffect(() => {\n    const fetchMatches = async () => {\n      if (!currentTournament) return;\n      try {\n        const matchesRef = collection(db, `tournaments/${currentTournament}/matches`);\n        const snapshot = await getDocs(matchesRef);\n        const data = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n        setMatches(data);\n      } catch (error) {\n        console.error(\"Error fetching matches:\", error);\n      }\n    };\n    fetchMatches();\n  }, [currentTournament]);\n\n  const filteredMatches = matches.filter(match => {\n    const matchDate = dayjs(match.date?.toDate?.() || match.date).format(\"YYYY-MM-DD\");\n    return matchDate === selectedDate;\n  });\n\n  const timeSlots = [...new Set(filteredMatches.map(m => m.time))].sort();\n  const courts = [\"Court 1\", \"Court 2\", \"Court 3\", \"Court 4\"];\n\n  return (\n    <div className=\"p-4 text-white\">\n      <h2 className=\"text-2xl font-bold underline mb-4\">Umpire Appointments</h2>\n\n      <div className=\"flex gap-4 mb-4\">\n        <input\n          type=\"date\"\n          value={selectedDate}\n          onChange={e => setSelectedDate(e.target.value)}\n          className=\"p-2 rounded bg-gray-700 text-white\"\n        />\n      </div>\n\n      {timeSlots.length === 0 ? (\n        <p className=\"text-yellow-400\">No matches found for {selectedDate} in the selected tournament.</p>\n      ) : (\n        timeSlots.map(time => (\n          <div key={time} className=\"mb-6\">\n            <h3 className=\"text-xl font-semibold mb-2\">{time}</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n              {courts.map(court => {\n                const match = filteredMatches.find(m => m.court === court && m.time === time);\n                return (\n                  <div key={court} className=\"bg-blue-600 p-4 rounded shadow-md\">\n                    <p className=\"font-semibold\">{court}</p>\n                    <p>Type: {match?.division || \"N/A\"}</p>\n                    <p>{match?.teams || \"TBD vs TBD\"}</p>\n                    <p className=\"italic\">\n                      Umpire: {match?.umpire || \"Unassigned\"} <button className=\"text-yellow-300 ml-2\">Edit</button>\n                    </p>\n                    <p className=\"text-xs mt-2\">Match ID: {match?.id || \"-\"}</p>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        ))\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}