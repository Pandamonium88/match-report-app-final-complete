{"ast":null,"code":"var _jsxFileName = \"/Users/andrewhall-villiers/Downloads/match-report-app-final-complete/src/pages/UmpireAppointments.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { collection, getDocs, query, where, doc, updateDoc } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nimport dayjs from \"dayjs\";\nimport TournamentSelector from \"../components/TournamentSelector\";\nimport { useTournament } from \"../context/TournamentContext\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function UmpireAppointments() {\n  _s();\n  const [matches, setMatches] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(dayjs().format(\"YYYY-MM-DD\"));\n  const [viewMode, setViewMode] = useState(\"day\");\n  const {\n    currentTournament,\n    setCurrentTournament\n  } = useTournament();\n  const {\n    role,\n    user\n  } = useAuth();\n  const isAdmin = role === \"admin\";\n  const [editingMatchId, setEditingMatchId] = useState(null);\n  const [newUmpireName, setNewUmpireName] = useState(\"\");\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (!currentTournament) {\n      console.warn(\"No tournament selected.\");\n      setMatches([]);\n      return;\n    }\n    const fetchMatches = async () => {\n      try {\n        const matchesRef = collection(db, `tournaments/${currentTournament}/matches`);\n        const q = viewMode === \"day\" ? query(matchesRef, where(\"date\", \"==\", selectedDate)) : matchesRef;\n        const snapshot = await getDocs(q);\n        const data = snapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        console.log(`Fetched ${data.length} matches for date ${selectedDate} in tournament ${currentTournament}`);\n        setMatches(data);\n        console.log(\"Match data:\", data);\n        setError(null);\n      } catch (err) {\n        console.error(\"Failed to fetch matches\", err);\n        setError(\"Error fetching matches. Please check permissions and Firestore rules.\");\n      }\n    };\n    fetchMatches();\n  }, [selectedDate, viewMode, currentTournament]);\n  const times = [...new Set(matches.map(match => match.time))].sort();\n  const courts = [\"Court 1\", \"Court 2\", \"Court 3\", \"Court 4\"];\n  const matchesByTimeAndCourt = times.map(time => {\n    const matchesAtTime = matches.filter(match => match.time === time);\n    const courtMap = {};\n    courts.forEach(court => {\n      courtMap[court] = matchesAtTime.find(match => match.court === court);\n    });\n    return {\n      time,\n      courtMap\n    };\n  });\n  const handleUmpireChange = async matchId => {\n    if (!newUmpireName || !currentTournament) return;\n    try {\n      const matchRef = doc(db, `tournaments/${currentTournament}/matches/${matchId}`);\n      await updateDoc(matchRef, {\n        umpireName: newUmpireName\n      });\n      setEditingMatchId(null);\n      setNewUmpireName(\"\");\n      setSelectedDate(prev => prev); // Triggers refresh\n    } catch (err) {\n      console.error(\"Error updating umpire\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 text-gray-900 dark:text-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl mx-auto font-bold mb-4\",\n      children: \"Umpire Appointments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), !currentTournament && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-red-500 font-semibold mb-4\",\n      children: \"No tournament selected. Please choose a tournament to view matches.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-red-500 font-semibold mb-4\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), matches.length === 0 && currentTournament && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-yellow-500 font-semibold mb-4\",\n      children: [\"No matches found for \", selectedDate, \" in the selected tournament.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap gap-4 mb-4 items-center\",\n      children: [/*#__PURE__*/_jsxDEV(TournamentSelector, {\n        onSelect: setCurrentTournament\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: selectedDate,\n        onChange: e => setSelectedDate(e.target.value),\n        className: \"p-2 border rounded bg-white dark:bg-gray-900 text-black dark:text-white placeholder-gray-500 dark:placeholder-gray-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: viewMode,\n        onChange: e => setViewMode(e.target.value),\n        className: \"p-2 border rounded bg-white dark:bg-gray-900 text-black dark:text-white placeholder-gray-500 dark:placeholder-gray-400\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"day\",\n          children: \"Day View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"tournament\",\n          children: \"Tournament View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), matchesByTimeAndCourt.map(({\n      time,\n      courtMap\n    }) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold mb-2\",\n        children: time\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-4 gap-4\",\n        children: courts.map(court => {\n          const match = courtMap[court];\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-1 px-2 py-0.5 text-xs bg-blue-600 text-white rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-semibold\",\n              children: court\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 19\n            }, this), match ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: match.type || \"Type N/A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [match.team1 || \"TBD\", \" vs \", match.team2 || \"TBD\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"italic\",\n                children: [\"Umpire:\", \" \", isAdmin && editingMatchId === match.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    value: newUmpireName,\n                    onChange: e => setNewUmpireName(e.target.value),\n                    className: \"text-black px-1 py-0.5 rounded\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleUmpireChange(match.id),\n                    className: \"ml-1 px-2 py-0.5 text-xs bg-white text-blue-600 rounded\",\n                    children: \"Save\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [match.umpireName || \"Unassigned\", isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setEditingMatchId(match.id);\n                      setNewUmpireName(match.umpireName || \"\");\n                    },\n                    className: \"ml-1 text-xs text-white underline\",\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"italic\",\n                children: [\"Match ID: \", match.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"italic text-gray-300\",\n              children: \"No Match Scheduled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 21\n            }, this)]\n          }, court, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)]\n    }, time, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(UmpireAppointments, \"1wgBydWpyKTej7/5g1Zx9Uje8oM=\", false, function () {\n  return [useTournament, useAuth];\n});\n_c = UmpireAppointments;\nvar _c;\n$RefreshReg$(_c, \"UmpireAppointments\");","map":{"version":3,"names":["useEffect","useState","collection","getDocs","query","where","doc","updateDoc","db","dayjs","TournamentSelector","useTournament","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","UmpireAppointments","_s","matches","setMatches","selectedDate","setSelectedDate","format","viewMode","setViewMode","currentTournament","setCurrentTournament","role","user","isAdmin","editingMatchId","setEditingMatchId","newUmpireName","setNewUmpireName","error","setError","console","warn","fetchMatches","matchesRef","q","snapshot","data","docs","map","id","log","length","err","times","Set","match","time","sort","courts","matchesByTimeAndCourt","matchesAtTime","filter","courtMap","forEach","court","find","handleUmpireChange","matchId","matchRef","umpireName","prev","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSelect","type","value","onChange","e","target","team1","team2","onClick","_c","$RefreshReg$"],"sources":["/Users/andrewhall-villiers/Downloads/match-report-app-final-complete/src/pages/UmpireAppointments.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { collection, getDocs, query, where, doc, updateDoc } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nimport dayjs from \"dayjs\";\nimport TournamentSelector from \"../components/TournamentSelector\";\nimport { useTournament } from \"../context/TournamentContext\";\nimport { useAuth } from \"../context/AuthContext\";\n\nexport default function UmpireAppointments() {\n  const [matches, setMatches] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(dayjs().format(\"YYYY-MM-DD\"));\n  const [viewMode, setViewMode] = useState(\"day\");\n  const { currentTournament, setCurrentTournament } = useTournament();\n  const { role, user } = useAuth();\n  const isAdmin = role === \"admin\";\n  const [editingMatchId, setEditingMatchId] = useState(null);\n  const [newUmpireName, setNewUmpireName] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!currentTournament) {\n      console.warn(\"No tournament selected.\");\n      setMatches([]);\n      return;\n    }\n\n    const fetchMatches = async () => {\n      try {\n        const matchesRef = collection(db, `tournaments/${currentTournament}/matches`);\n        const q = viewMode === \"day\"\n          ? query(matchesRef, where(\"date\", \"==\", selectedDate))\n          : matchesRef;\n\n        const snapshot = await getDocs(q);\n        const data = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n\n        console.log(`Fetched ${data.length} matches for date ${selectedDate} in tournament ${currentTournament}`);\n        setMatches(data);\n        console.log(\"Match data:\", data);\n        setError(null);\n      } catch (err) {\n        console.error(\"Failed to fetch matches\", err);\n        setError(\"Error fetching matches. Please check permissions and Firestore rules.\");\n      }\n    };\n\n    fetchMatches();\n  }, [selectedDate, viewMode, currentTournament]);\n\n  const times = [...new Set(matches.map(match => match.time))].sort();\n  const courts = [\"Court 1\", \"Court 2\", \"Court 3\", \"Court 4\"];\n\n  const matchesByTimeAndCourt = times.map(time => {\n    const matchesAtTime = matches.filter(match => match.time === time);\n    const courtMap = {};\n    courts.forEach(court => {\n      courtMap[court] = matchesAtTime.find(match => match.court === court);\n    });\n    return { time, courtMap };\n  });\n\n  const handleUmpireChange = async (matchId) => {\n    if (!newUmpireName || !currentTournament) return;\n    try {\n      const matchRef = doc(db, `tournaments/${currentTournament}/matches/${matchId}`);\n      await updateDoc(matchRef, { umpireName: newUmpireName });\n      setEditingMatchId(null);\n      setNewUmpireName(\"\");\n      setSelectedDate(prev => prev); // Triggers refresh\n    } catch (err) {\n      console.error(\"Error updating umpire\", err);\n    }\n  };\n\n  return (\n    <div className=\"p-4 text-gray-900 dark:text-gray-100\">\n      <h1 className=\"text-2xl mx-auto font-bold mb-4\">Umpire Appointments</h1>\n\n      {!currentTournament && (\n        <div className=\"text-red-500 font-semibold mb-4\">\n          No tournament selected. Please choose a tournament to view matches.\n        </div>\n      )}\n\n      {error && (\n        <div className=\"text-red-500 font-semibold mb-4\">\n          {error}\n        </div>\n      )}\n\n      {matches.length === 0 && currentTournament && (\n        <div className=\"text-yellow-500 font-semibold mb-4\">\n          No matches found for {selectedDate} in the selected tournament.\n        </div>\n      )}\n\n      <div className=\"flex flex-wrap gap-4 mb-4 items-center\">\n        <TournamentSelector onSelect={setCurrentTournament} />\n\n        <input\n          type=\"date\"\n          value={selectedDate}\n          onChange={(e) => setSelectedDate(e.target.value)}\n          className=\"p-2 border rounded bg-white dark:bg-gray-900 text-black dark:text-white placeholder-gray-500 dark:placeholder-gray-400\"\n        />\n\n        <select\n          value={viewMode}\n          onChange={(e) => setViewMode(e.target.value)}\n          className=\"p-2 border rounded bg-white dark:bg-gray-900 text-black dark:text-white placeholder-gray-500 dark:placeholder-gray-400\"\n        >\n          <option value=\"day\">Day View</option>\n          <option value=\"tournament\">Tournament View</option>\n        </select>\n      </div>\n\n      {matchesByTimeAndCourt.map(({ time, courtMap }) => (\n        <div key={time} className=\"mb-6\">\n          <h2 className=\"text-lg font-semibold mb-2\">{time}</h2>\n          <div className=\"grid grid-cols-4 gap-4\">\n            {courts.map(court => {\n              const match = courtMap[court];\n              return (\n                <div key={court} className=\"ml-1 px-2 py-0.5 text-xs bg-blue-600 text-white rounded\">\n                  <p className=\"font-semibold\">{court}</p>\n                  {match ? (\n                    <>\n                      <p>{match.type || \"Type N/A\"}</p>\n                      <p>{match.team1 || \"TBD\"} vs {match.team2 || \"TBD\"}</p>\n                      <p className=\"italic\">\n                        Umpire:{\" \"}\n                        {isAdmin && editingMatchId === match.id ? (\n                          <>\n                            <input\n                              value={newUmpireName}\n                              onChange={(e) => setNewUmpireName(e.target.value)}\n                              className=\"text-black px-1 py-0.5 rounded\"\n                            />\n                            <button\n                              onClick={() => handleUmpireChange(match.id)}\n                              className=\"ml-1 px-2 py-0.5 text-xs bg-white text-blue-600 rounded\"\n                            >\n                              Save\n                            </button>\n                          </>\n                        ) : (\n                          <>\n                            {match.umpireName || \"Unassigned\"}\n                            {isAdmin && (\n                              <button\n                                onClick={() => {\n                                  setEditingMatchId(match.id);\n                                  setNewUmpireName(match.umpireName || \"\");\n                                }}\n                                className=\"ml-1 text-xs text-white underline\"\n                              >\n                                Edit\n                              </button>\n                            )}\n                          </>\n                        )}\n                      </p>\n                      <p className=\"italic\">\n                        Match ID: {match.id}\n                      </p>\n                    </>\n                  ) : (\n                    <p className=\"italic text-gray-300\">No Match Scheduled</p>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}