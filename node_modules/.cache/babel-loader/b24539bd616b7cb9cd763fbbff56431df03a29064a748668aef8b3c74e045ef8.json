{"ast":null,"code":"// src/context/TournamentContext.js\nimport{createContext,useContext,useState,useEffect}from\"react\";import{db}from\"../firebase\";import{collection,onSnapshot}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";export const TournamentContext=/*#__PURE__*/createContext();export function TournamentProvider(_ref){let{children}=_ref;const[currentTournament,setCurrentTournament]=useState(null);const[tournaments,setTournaments]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{if(currentTournament!==null&&currentTournament!==void 0&&currentTournament.id){const unsubscribe=onSnapshot(doc(db,'tournaments',currentTournament.id),doc=>{if(doc.exists()){setCurrentTournament({id:doc.id,...doc.data()});}});return()=>unsubscribe();}},[currentTournament===null||currentTournament===void 0?void 0:currentTournament.id]);return/*#__PURE__*/_jsx(TournamentContext.Provider,{value:{currentTournament,setCurrentTournament,tournaments,setTournaments,loading},children:children});}export const useTournament=()=>useContext(TournamentContext);","map":{"version":3,"names":["createContext","useContext","useState","useEffect","db","collection","onSnapshot","jsx","_jsx","TournamentContext","TournamentProvider","_ref","children","currentTournament","setCurrentTournament","tournaments","setTournaments","loading","setLoading","id","unsubscribe","doc","exists","data","Provider","value","useTournament"],"sources":["/Users/andrewhall-villiers/Downloads/Match Report/match-report-app-final-complete/src/context/TournamentContext.js"],"sourcesContent":["// src/context/TournamentContext.js\nimport { createContext, useContext, useState, useEffect } from \"react\";\nimport { db } from \"../firebase\";\nimport { collection, onSnapshot } from \"firebase/firestore\";\n\nexport const TournamentContext = createContext();\n\nexport function TournamentProvider({ children }) {\n  const [currentTournament, setCurrentTournament] = useState(null);\n  const [tournaments, setTournaments] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (currentTournament?.id) {\n      const unsubscribe = onSnapshot(\n        doc(db, 'tournaments', currentTournament.id),\n        (doc) => {\n          if (doc.exists()) {\n            setCurrentTournament({ id: doc.id, ...doc.data() });\n          }\n        }\n      );\n      return () => unsubscribe();\n    }\n  }, [currentTournament?.id]);\n\n  return (\n    <TournamentContext.Provider \n      value={{ \n        currentTournament, \n        setCurrentTournament, \n        tournaments,\n        setTournaments,\n        loading\n      }}\n    >\n      {children}\n    </TournamentContext.Provider>\n  );\n}\n\nexport const useTournament = () => useContext(TournamentContext);"],"mappings":"AAAA;AACA,OAASA,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACtE,OAASC,EAAE,KAAQ,aAAa,CAChC,OAASC,UAAU,CAAEC,UAAU,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5D,MAAO,MAAM,CAAAC,iBAAiB,cAAGT,aAAa,CAAC,CAAC,CAEhD,MAAO,SAAS,CAAAU,kBAAkBA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC7C,KAAM,CAACE,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAChE,KAAM,CAACa,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd,GAAIU,iBAAiB,SAAjBA,iBAAiB,WAAjBA,iBAAiB,CAAEM,EAAE,CAAE,CACzB,KAAM,CAAAC,WAAW,CAAGd,UAAU,CAC5Be,GAAG,CAACjB,EAAE,CAAE,aAAa,CAAES,iBAAiB,CAACM,EAAE,CAAC,CAC3CE,GAAG,EAAK,CACP,GAAIA,GAAG,CAACC,MAAM,CAAC,CAAC,CAAE,CAChBR,oBAAoB,CAAC,CAAEK,EAAE,CAAEE,GAAG,CAACF,EAAE,CAAE,GAAGE,GAAG,CAACE,IAAI,CAAC,CAAE,CAAC,CAAC,CACrD,CACF,CACF,CAAC,CACD,MAAO,IAAMH,WAAW,CAAC,CAAC,CAC5B,CACF,CAAC,CAAE,CAACP,iBAAiB,SAAjBA,iBAAiB,iBAAjBA,iBAAiB,CAAEM,EAAE,CAAC,CAAC,CAE3B,mBACEX,IAAA,CAACC,iBAAiB,CAACe,QAAQ,EACzBC,KAAK,CAAE,CACLZ,iBAAiB,CACjBC,oBAAoB,CACpBC,WAAW,CACXC,cAAc,CACdC,OACF,CAAE,CAAAL,QAAA,CAEDA,QAAQ,CACiB,CAAC,CAEjC,CAEA,MAAO,MAAM,CAAAc,aAAa,CAAGA,CAAA,GAAMzB,UAAU,CAACQ,iBAAiB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}