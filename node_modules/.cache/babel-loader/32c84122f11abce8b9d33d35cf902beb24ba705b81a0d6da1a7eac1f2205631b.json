{"ast":null,"code":"import{useState}from\"react\";import{Link,useLocation}from\"react-router-dom\";import{LogOut,Sun,Moon,CalendarCheck2,Calendar,ScrollText,Scroll,LucideGaugeCircle,Settings,Info,PersonStanding,HardDriveUpload,ChevronDown,ChevronUp}from\"lucide-react\";import{signOut}from\"firebase/auth\";import{auth}from\"../firebase\";// Added missing import\nimport{useAuth}from\"../context/AuthContext\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Sidebar(_ref){let{onToggleTheme,darkMode}=_ref;const[open,setOpen]=useState(true);const[adminOpen,setAdminOpen]=useState(false);// Added missing state\nconst[settingsOpen,setSettingsOpen]=useState(false);const location=useLocation();const{role}=useAuth();// Removed duplicate role prop\nconst commonLinks=[{label:\"Dashboard\",to:\"/dashboard\",icon:/*#__PURE__*/_jsx(LucideGaugeCircle,{size:20})},{label:\"Agenda\",to:\"/agenda\",icon:/*#__PURE__*/_jsx(Calendar,{size:20})},{label:\"Match Report\",to:\"/match-report\",icon:/*#__PURE__*/_jsx(ScrollText,{size:20})},{label:\"Umpire Report\",to:\"/umpire-report\",icon:/*#__PURE__*/_jsx(Scroll,{size:20})}];const adminLinks=[{label:\"Analytics\",to:\"/analytics\",icon:/*#__PURE__*/_jsx(Info,{size:20})},{label:\"Manage Users\",to:\"/admin/users\",icon:/*#__PURE__*/_jsx(PersonStanding,{size:20})},{label:\"Upload Draw\",to:\"/admin/upload\",icon:/*#__PURE__*/_jsx(HardDriveUpload,{size:20})},{label:\"Umpire Appointments\",to:\"/admin/appointments\",icon:/*#__PURE__*/_jsx(CalendarCheck2,{size:20})}];const settingsLinks=[{label:\"Tournament Admin\",to:\"/settings/tournamentadmin\",icon:/*#__PURE__*/_jsx(Settings,{size:20})},{label:\"My Details\",to:\"/settings/details\",icon:/*#__PURE__*/_jsx(Moon,{size:20})}];const renderLinks=links=>links.map(link=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:link.to,className:`flex items-center gap-2 p-2 rounded transition-colors ${location.pathname===link.to?\"bg-green-700 text-white\":\"hover:bg-green-100 dark:hover:bg-green-900\"}`,children:[link.icon,open&&/*#__PURE__*/_jsx(\"span\",{children:link.label})]})},link.to));return/*#__PURE__*/_jsxs(\"div\",{className:`flex flex-col h-full bg-white dark:bg-gray-900 border-r dark:border-gray-700 transition-all ${open?\"w-64\":\"w-16\"}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center p-4\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/logo.png\",alt:\"Cricket Australia\",className:\"h-12 object-contain\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setOpen(!open),className:\"p-2 self-end mr-2 text-xs bg-green-600 text-white rounded\",children:open?\"←\":\"→\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-1 p-2\",children:renderLinks(commonLinks)}),role===\"admin\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-2\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setAdminOpen(!adminOpen),className:\"flex items-center justify-between w-full p-2 rounded bg-green-100 dark:bg-green-800\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Settings,{size:20}),open&&\"Admin\"]}),open&&(adminOpen?/*#__PURE__*/_jsx(ChevronUp,{size:16}):/*#__PURE__*/_jsx(ChevronDown,{size:16}))]})}),adminOpen&&/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-1 px-2\",children:renderLinks(adminLinks)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-2 mt-4\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSettingsOpen(!settingsOpen),className:\"flex items-center justify-between w-full p-2 rounded bg-green-100 dark:bg-green-800\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Settings,{size:20}),open&&\"Settings\"]}),open&&(settingsOpen?/*#__PURE__*/_jsx(ChevronUp,{size:16}):/*#__PURE__*/_jsx(ChevronDown,{size:16}))]})}),settingsOpen&&/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-1 px-2\",children:renderLinks(settingsLinks)}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-auto mb-4 flex flex-col gap-2 items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onToggleTheme,className:\"p-2 hover:scale-110 text-green-600 dark:text-green-300\",children:darkMode?/*#__PURE__*/_jsx(Sun,{size:20}):/*#__PURE__*/_jsx(Moon,{size:20})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>signOut(auth).then(()=>window.location.href=\"/login\"),className:\"p-2 hover:scale-110 text-red-600\",children:/*#__PURE__*/_jsx(LogOut,{size:20})})]})]});}","map":{"version":3,"names":["useState","Link","useLocation","LogOut","Sun","Moon","CalendarCheck2","Calendar","ScrollText","Scroll","LucideGaugeCircle","Settings","Info","PersonStanding","HardDriveUpload","ChevronDown","ChevronUp","signOut","auth","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Sidebar","_ref","onToggleTheme","darkMode","open","setOpen","adminOpen","setAdminOpen","settingsOpen","setSettingsOpen","location","role","commonLinks","label","to","icon","size","adminLinks","settingsLinks","renderLinks","links","map","link","children","className","pathname","src","alt","onClick","then","window","href"],"sources":["/Users/andrewhall-villiers/Downloads/Match Report/match-report-app-final-complete/src/components/Sidebar.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport {\n  LogOut, Sun, Moon, CalendarCheck2, Calendar, ScrollText, Scroll,\n  LucideGaugeCircle, Settings, Info, PersonStanding, HardDriveUpload,\n  ChevronDown, ChevronUp\n} from \"lucide-react\";\nimport { signOut } from \"firebase/auth\";\nimport { auth } from \"../firebase\"; // Added missing import\nimport { useAuth } from \"../context/AuthContext\";\n\nexport default function Sidebar({ onToggleTheme, darkMode }) {\n  const [open, setOpen] = useState(true); \n  const [adminOpen, setAdminOpen] = useState(false); // Added missing state\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const location = useLocation();\n  const { role } = useAuth(); // Removed duplicate role prop\n\n  const commonLinks = [\n    { label: \"Dashboard\", to: \"/dashboard\", icon: <LucideGaugeCircle size={20} /> },\n    { label: \"Agenda\", to: \"/agenda\", icon: <Calendar size={20} /> },\n    { label: \"Match Report\", to: \"/match-report\", icon: <ScrollText size={20} /> },\n    { label: \"Umpire Report\", to: \"/umpire-report\", icon: <Scroll size={20} /> },\n  ];\n\n  const adminLinks = [\n    { label: \"Analytics\", to: \"/analytics\", icon: <Info size={20} /> },\n    { label: \"Manage Users\", to: \"/admin/users\", icon: <PersonStanding size={20} /> },\n    { label: \"Upload Draw\", to: \"/admin/upload\", icon: <HardDriveUpload size={20} /> },\n    { label: \"Umpire Appointments\", to: \"/admin/appointments\", icon: <CalendarCheck2 size={20} /> },\n  ];\n\n  const settingsLinks = [\n    { label: \"Tournament Admin\", to: \"/settings/tournamentadmin\", icon: <Settings size={20} /> },\n    { label: \"My Details\", to: \"/settings/details\", icon: <Moon size={20} /> },\n  ];\n\n  const renderLinks = (links) =>\n    links.map((link) => (\n      <li key={link.to}>\n        <Link\n          to={link.to}\n          className={`flex items-center gap-2 p-2 rounded transition-colors ${\n            location.pathname === link.to\n              ? \"bg-green-700 text-white\"\n              : \"hover:bg-green-100 dark:hover:bg-green-900\"\n          }`}\n        >\n          {link.icon}\n          {open && <span>{link.label}</span>}\n        </Link>\n      </li>\n    ));\n\n  return (\n    <div className={`flex flex-col h-full bg-white dark:bg-gray-900 border-r dark:border-gray-700 transition-all ${open ? \"w-64\" : \"w-16\"}`}>\n      <div className=\"flex items-center justify-center p-4\">\n        <img src=\"/logo.png\" alt=\"Cricket Australia\" className=\"h-12 object-contain\" />\n      </div>\n\n      <button\n        onClick={() => setOpen(!open)}\n        className=\"p-2 self-end mr-2 text-xs bg-green-600 text-white rounded\"\n      >\n        {open ? \"←\" : \"→\"}\n      </button>\n\n      <ul className=\"space-y-1 p-2\">{renderLinks(commonLinks)}</ul>\n\n      {role === \"admin\" && (\n        <>\n          <div className=\"px-2\">\n            <button\n              onClick={() => setAdminOpen(!adminOpen)}\n              className=\"flex items-center justify-between w-full p-2 rounded bg-green-100 dark:bg-green-800\"\n            >\n              <span className=\"flex items-center gap-2\">\n                <Settings size={20} />\n                {open && \"Admin\"}\n              </span>\n              {open && (adminOpen ? <ChevronUp size={16} /> : <ChevronDown size={16} />)}\n            </button>\n          </div>\n          {adminOpen && <ul className=\"space-y-1 px-2\">{renderLinks(adminLinks)}</ul>}\n        </>\n      )}\n\n      <div className=\"px-2 mt-4\">\n        <button\n          onClick={() => setSettingsOpen(!settingsOpen)}\n          className=\"flex items-center justify-between w-full p-2 rounded bg-green-100 dark:bg-green-800\"\n        >\n          <span className=\"flex items-center gap-2\">\n            <Settings size={20} />\n            {open && \"Settings\"}\n          </span>\n          {open && (settingsOpen ? <ChevronUp size={16} /> : <ChevronDown size={16} />)}\n        </button>\n      </div>\n      {settingsOpen && <ul className=\"space-y-1 px-2\">{renderLinks(settingsLinks)}</ul>}\n\n      <div className=\"mt-auto mb-4 flex flex-col gap-2 items-center\">\n        <button onClick={onToggleTheme} className=\"p-2 hover:scale-110 text-green-600 dark:text-green-300\">\n          {darkMode ? <Sun size={20} /> : <Moon size={20} />}\n        </button>\n        <button\n          onClick={() => signOut(auth).then(() => (window.location.href = \"/login\"))}\n          className=\"p-2 hover:scale-110 text-red-600\"\n        >\n          <LogOut size={20} />\n        </button>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}