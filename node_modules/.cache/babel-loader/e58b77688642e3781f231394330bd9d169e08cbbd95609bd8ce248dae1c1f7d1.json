{"ast":null,"code":"var _jsxFileName = \"/Users/andrewhall-villiers/Downloads/match-report-app-final-complete/src/pages/UmpireAppointments.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { db } from '../firebase';\nimport { collection, getDocs, updateDoc, doc } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UmpireAppointments() {\n  _s();\n  const [matches, setMatches] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [umpires, setUmpires] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n\n      // Load matches\n      const matchSnapshot = await getDocs(collection(db, 'matches'));\n      const matchList = matchSnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n\n      // Load users to build umpire list\n      const usersSnapshot = await getDocs(collection(db, 'users'));\n      const umpireList = usersSnapshot.docs.filter(doc => doc.data().role === 'umpire').map(doc => ({\n        email: doc.data().email,\n        name: `${doc.data().firstName} ${doc.data().lastName}`\n      }));\n      setMatches(matchList);\n      setUmpires(umpireList);\n      setLoading(false);\n    };\n    fetchData();\n  }, []);\n  const handleChange = async (matchId, newEmail) => {\n    await updateDoc(doc(db, 'matches', matchId), {\n      umpire: newEmail\n    });\n    setMatches(prev => prev.map(m => m.id === matchId ? {\n      ...m,\n      umpire: newEmail\n    } : m));\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"p-4\",\n    children: \"Loading appointments...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold mb-4\",\n      children: \"Umpire Appointments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"min-w-full border\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"bg-gray-200 dark:bg-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-4 py-2\",\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-4 py-2\",\n            children: \"Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-4 py-2\",\n            children: \"Court\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-4 py-2\",\n            children: \"Division\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-4 py-2\",\n            children: \"Teams\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-4 py-2\",\n            children: \"Umpire\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: matches.map(match => /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"border-t\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"border px-4 py-2\",\n            children: match.date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"border px-4 py-2\",\n            children: match.time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"border px-4 py-2\",\n            children: match.court\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"border px-4 py-2\",\n            children: match.division\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"border px-4 py-2\",\n            children: [match.team1, \" vs \", match.team2]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"border px-4 py-2\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"p-1 border rounded\",\n              value: match.umpire || '',\n              onChange: e => handleChange(match.id, e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"-- Unassigned --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 19\n              }, this), umpires.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: u.email,\n                children: u.name\n              }, u.email, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)]\n        }, match.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(UmpireAppointments, \"aBWGwhd66Deh1uIYpNcvOCkD4Tw=\");\n_c = UmpireAppointments;\nvar _c;\n$RefreshReg$(_c, \"UmpireAppointments\");","map":{"version":3,"names":["useEffect","useState","db","collection","getDocs","updateDoc","doc","jsxDEV","_jsxDEV","UmpireAppointments","_s","matches","setMatches","loading","setLoading","umpires","setUmpires","fetchData","matchSnapshot","matchList","docs","map","id","data","usersSnapshot","umpireList","filter","role","email","name","firstName","lastName","handleChange","matchId","newEmail","umpire","prev","m","className","children","fileName","_jsxFileName","lineNumber","columnNumber","match","date","time","court","division","team1","team2","value","onChange","e","target","u","_c","$RefreshReg$"],"sources":["/Users/andrewhall-villiers/Downloads/match-report-app-final-complete/src/pages/UmpireAppointments.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { db } from '../firebase';\nimport { collection, getDocs, updateDoc, doc } from 'firebase/firestore';\n\nexport default function UmpireAppointments() {\n  const [matches, setMatches] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [umpires, setUmpires] = useState([]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n\n      // Load matches\n      const matchSnapshot = await getDocs(collection(db, 'matches'));\n      const matchList = matchSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n\n      // Load users to build umpire list\n      const usersSnapshot = await getDocs(collection(db, 'users'));\n      const umpireList = usersSnapshot.docs\n        .filter(doc => doc.data().role === 'umpire')\n        .map(doc => ({ email: doc.data().email, name: `${doc.data().firstName} ${doc.data().lastName}` }));\n\n      setMatches(matchList);\n      setUmpires(umpireList);\n      setLoading(false);\n    };\n\n    fetchData();\n  }, []);\n\n  const handleChange = async (matchId, newEmail) => {\n    await updateDoc(doc(db, 'matches', matchId), { umpire: newEmail });\n    setMatches(prev => prev.map(m => (m.id === matchId ? { ...m, umpire: newEmail } : m)));\n  };\n\n  if (loading) return <p className=\"p-4\">Loading appointments...</p>;\n\n  return (\n    <div className=\"p-4\">\n      <h2 className=\"text-xl font-bold mb-4\">Umpire Appointments</h2>\n      <table className=\"min-w-full border\">\n        <thead>\n          <tr className=\"bg-gray-200 dark:bg-gray-700\">\n            <th className=\"border px-4 py-2\">Date</th>\n            <th className=\"border px-4 py-2\">Time</th>\n            <th className=\"border px-4 py-2\">Court</th>\n            <th className=\"border px-4 py-2\">Division</th>\n            <th className=\"border px-4 py-2\">Teams</th>\n            <th className=\"border px-4 py-2\">Umpire</th>\n          </tr>\n        </thead>\n        <tbody>\n          {matches.map(match => (\n            <tr key={match.id} className=\"border-t\">\n              <td className=\"border px-4 py-2\">{match.date}</td>\n              <td className=\"border px-4 py-2\">{match.time}</td>\n              <td className=\"border px-4 py-2\">{match.court}</td>\n              <td className=\"border px-4 py-2\">{match.division}</td>\n              <td className=\"border px-4 py-2\">{match.team1} vs {match.team2}</td>\n              <td className=\"border px-4 py-2\">\n                <select\n                  className=\"p-1 border rounded\"\n                  value={match.umpire || ''}\n                  onChange={e => handleChange(match.id, e.target.value)}\n                >\n                  <option value=\"\">-- Unassigned --</option>\n                  {umpires.map(u => (\n                    <option key={u.email} value={u.email}>\n                      {u.name}\n                    </option>\n                  ))}\n                </select>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}