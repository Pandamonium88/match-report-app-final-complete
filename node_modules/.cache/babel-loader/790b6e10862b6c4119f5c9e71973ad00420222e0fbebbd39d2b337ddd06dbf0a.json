{"ast":null,"code":"// src/components/TournamentSelector.jsx\nimport{useEffect,useState}from\"react\";import{db}from\"../firebase\";import{collection,getDocs}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function TournamentSelector(_ref){let{onSelect}=_ref;const[tournaments,setTournaments]=useState([]);const[activeId,setActiveId]=useState(\"\");useEffect(()=>{const loadTournaments=async()=>{const snapshot=await getDocs(collection(db,\"tournaments\"));const all=snapshot.docs.map(doc=>({id:doc.id,...doc.data()}));setTournaments(all);const active=all.find(t=>t.isActive);if(active){setActiveId(active.id);if(onSelect)onSelect(active.id);}};loadTournaments();},[]);return/*#__PURE__*/_jsx(\"select\",{value:activeId,onChange:e=>{setActiveId(e.target.value);if(onSelect)onSelect(e.target.value);},className:\"p-2 border rounded dark:bg-gray-800 dark:text-white\",children:tournaments.map(t=>/*#__PURE__*/_jsx(\"option\",{value:t.id,children:t.name},t.id))});}","map":{"version":3,"names":["useEffect","useState","db","collection","getDocs","jsx","_jsx","TournamentSelector","_ref","onSelect","tournaments","setTournaments","activeId","setActiveId","loadTournaments","snapshot","all","docs","map","doc","id","data","active","find","t","isActive","value","onChange","e","target","className","children","name"],"sources":["/Users/andrewhall-villiers/Downloads/match-report-app-final-complete/src/components/TournamentSelector.jsx"],"sourcesContent":["// src/components/TournamentSelector.jsx\n\nimport { useEffect, useState } from \"react\";\nimport { db } from \"../firebase\";\nimport { collection, getDocs } from \"firebase/firestore\";\n\nexport default function TournamentSelector({ onSelect }) {\n  const [tournaments, setTournaments] = useState([]);\n  const [activeId, setActiveId] = useState(\"\");\n\n  useEffect(() => {\n    const loadTournaments = async () => {\n      const snapshot = await getDocs(collection(db, \"tournaments\"));\n      const all = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n      setTournaments(all);\n      const active = all.find(t => t.isActive);\n      if (active) {\n        setActiveId(active.id);\n        if (onSelect) onSelect(active.id);\n      }\n    };\n    loadTournaments();\n  }, []);\n\n  return (\n    <select\n      value={activeId}\n      onChange={(e) => {\n        setActiveId(e.target.value);\n        if (onSelect) onSelect(e.target.value);\n      }}\n      className=\"p-2 border rounded dark:bg-gray-800 dark:text-white\"\n    >\n      {tournaments.map(t => (\n        <option key={t.id} value={t.id}>\n          {t.name}\n        </option>\n      ))}\n    </select>\n  );\n}"],"mappings":"AAAA;AAEA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,EAAE,KAAQ,aAAa,CAChC,OAASC,UAAU,CAAEC,OAAO,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzD,cAAe,SAAS,CAAAC,kBAAkBA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACrD,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAX,OAAO,CAACD,UAAU,CAACD,EAAE,CAAE,aAAa,CAAC,CAAC,CAC7D,KAAM,CAAAc,GAAG,CAAGD,QAAQ,CAACE,IAAI,CAACC,GAAG,CAACC,GAAG,GAAK,CAAEC,EAAE,CAAED,GAAG,CAACC,EAAE,CAAE,GAAGD,GAAG,CAACE,IAAI,CAAC,CAAE,CAAC,CAAC,CAAC,CACrEV,cAAc,CAACK,GAAG,CAAC,CACnB,KAAM,CAAAM,MAAM,CAAGN,GAAG,CAACO,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,QAAQ,CAAC,CACxC,GAAIH,MAAM,CAAE,CACVT,WAAW,CAACS,MAAM,CAACF,EAAE,CAAC,CACtB,GAAIX,QAAQ,CAAEA,QAAQ,CAACa,MAAM,CAACF,EAAE,CAAC,CACnC,CACF,CAAC,CACDN,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACER,IAAA,WACEoB,KAAK,CAAEd,QAAS,CAChBe,QAAQ,CAAGC,CAAC,EAAK,CACff,WAAW,CAACe,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,CAC3B,GAAIjB,QAAQ,CAAEA,QAAQ,CAACmB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,CACxC,CAAE,CACFI,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CAE9DrB,WAAW,CAACQ,GAAG,CAACM,CAAC,eAChBlB,IAAA,WAAmBoB,KAAK,CAAEF,CAAC,CAACJ,EAAG,CAAAW,QAAA,CAC5BP,CAAC,CAACQ,IAAI,EADIR,CAAC,CAACJ,EAEP,CACT,CAAC,CACI,CAAC,CAEb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}