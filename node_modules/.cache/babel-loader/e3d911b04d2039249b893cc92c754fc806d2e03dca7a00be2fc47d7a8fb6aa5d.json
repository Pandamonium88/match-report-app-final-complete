{"ast":null,"code":"var _jsxFileName = \"/Users/andrewhall-villiers/Downloads/Match Report/match-report-app-final-complete/src/pages/AdminUsers.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { collection, getDocs, updateDoc, doc } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminUsers() {\n  _s();\n  const {\n    role: currentUserRole\n  } = useAuth();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const roles = [\"admin\", \"umpire\", \"team\", \"unassigned\"];\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const snap = await getDocs(collection(db, \"users\"));\n      const list = snap.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setUsers(list);\n      setLoading(false);\n    };\n    if (currentUserRole === \"admin\") {\n      fetchUsers();\n    }\n  }, [currentUserRole]);\n  const handleRoleChange = async (userId, newRole) => {\n    const ref = doc(db, \"users\", userId);\n    await updateDoc(ref, {\n      role: newRole\n    });\n    setUsers(prev => prev.map(u => u.id === userId ? {\n      ...u,\n      role: newRole\n    } : u));\n  };\n  if (currentUserRole !== \"admin\") {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"p-4\",\n      children: \"Access denied.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 max-w-7xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold mb-4\",\n      children: \"Manage Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading users...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-full border border-gray-300 dark:border-gray-600 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-100 dark:bg-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"First\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"Last\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"State\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"Position\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 text-left\",\n              children: \"Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: users.map(u => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"border-t border-gray-200 dark:border-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: u.firstName || \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: u.lastName || \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: u.email || \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: u.phone || \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: u.state || \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: u.position || \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: u.role,\n                onChange: e => handleRoleChange(u.id, e.target.value),\n                className: \"p-1 rounded border border-gray-300 dark:bg-gray-800 dark:text-white\",\n                children: roles.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: r,\n                  children: r\n                }, r, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this)]\n          }, u.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminUsers, \"jbMDpodtUSK+zyeBkTVqA6U7U0Y=\", false, function () {\n  return [useAuth];\n});\n_c = AdminUsers;\nvar _c;\n$RefreshReg$(_c, \"AdminUsers\");","map":{"version":3,"names":["useEffect","useState","collection","getDocs","updateDoc","doc","db","useAuth","jsxDEV","_jsxDEV","AdminUsers","_s","role","currentUserRole","users","setUsers","loading","setLoading","roles","fetchUsers","snap","list","docs","map","id","data","handleRoleChange","userId","newRole","ref","prev","u","className","children","fileName","_jsxFileName","lineNumber","columnNumber","firstName","lastName","email","phone","state","position","value","onChange","e","target","r","_c","$RefreshReg$"],"sources":["/Users/andrewhall-villiers/Downloads/Match Report/match-report-app-final-complete/src/pages/AdminUsers.jsx"],"sourcesContent":["\nimport { useEffect, useState } from \"react\";\nimport { collection, getDocs, updateDoc, doc } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nimport { useAuth } from \"../context/AuthContext\";\n\nexport default function AdminUsers() {\n  const { role: currentUserRole } = useAuth();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const roles = [\"admin\", \"umpire\", \"team\", \"unassigned\"];\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const snap = await getDocs(collection(db, \"users\"));\n      const list = snap.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n      setUsers(list);\n      setLoading(false);\n    };\n\n    if (currentUserRole === \"admin\") {\n      fetchUsers();\n    }\n  }, [currentUserRole]);\n\n  const handleRoleChange = async (userId, newRole) => {\n    const ref = doc(db, \"users\", userId);\n    await updateDoc(ref, { role: newRole });\n    setUsers((prev) =>\n      prev.map((u) => (u.id === userId ? { ...u, role: newRole } : u))\n    );\n  };\n\n  if (currentUserRole !== \"admin\") {\n    return <p className=\"p-4\">Access denied.</p>;\n  }\n\n  return (\n    <div className=\"p-4 max-w-7xl mx-auto\">\n      <h2 className=\"text-xl font-bold mb-4\">Manage Users</h2>\n      {loading ? (\n        <p>Loading users...</p>\n      ) : (\n        <div className=\"overflow-auto\">\n          <table className=\"w-full border border-gray-300 dark:border-gray-600 text-sm\">\n            <thead className=\"bg-gray-100 dark:bg-gray-700\">\n              <tr>\n                <th className=\"p-2 text-left\">First</th>\n                <th className=\"p-2 text-left\">Last</th>\n                <th className=\"p-2 text-left\">Email</th>\n                <th className=\"p-2 text-left\">Phone</th>\n                <th className=\"p-2 text-left\">State</th>\n                <th className=\"p-2 text-left\">Position</th>\n                <th className=\"p-2 text-left\">Role</th>\n              </tr>\n            </thead>\n            <tbody>\n              {users.map((u) => (\n                <tr key={u.id} className=\"border-t border-gray-200 dark:border-gray-700\">\n                  <td className=\"p-2\">{u.firstName || \"-\"}</td>\n                  <td className=\"p-2\">{u.lastName || \"-\"}</td>\n                  <td className=\"p-2\">{u.email || \"-\"}</td>\n                  <td className=\"p-2\">{u.phone || \"-\"}</td>\n                  <td className=\"p-2\">{u.state || \"-\"}</td>\n                  <td className=\"p-2\">{u.position || \"-\"}</td>\n                  <td className=\"p-2\">\n                    <select\n                      value={u.role}\n                      onChange={(e) => handleRoleChange(u.id, e.target.value)}\n                      className=\"p-1 rounded border border-gray-300 dark:bg-gray-800 dark:text-white\"\n                    >\n                      {roles.map((r) => (\n                        <option key={r} value={r}>\n                          {r}\n                        </option>\n                      ))}\n                    </select>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":";;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,UAAU,EAAEC,OAAO,EAAEC,SAAS,EAAEC,GAAG,QAAQ,oBAAoB;AACxE,SAASC,EAAE,QAAQ,aAAa;AAChC,SAASC,OAAO,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,eAAe,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACnC,MAAM;IAAEC,IAAI,EAAEC;EAAgB,CAAC,GAAGN,OAAO,CAAC,CAAC;EAC3C,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAE5C,MAAMiB,KAAK,GAAG,CAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,YAAY,CAAC;EAEvDlB,SAAS,CAAC,MAAM;IACd,MAAMmB,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,MAAMC,IAAI,GAAG,MAAMjB,OAAO,CAACD,UAAU,CAACI,EAAE,EAAE,OAAO,CAAC,CAAC;MACnD,MAAMe,IAAI,GAAGD,IAAI,CAACE,IAAI,CAACC,GAAG,CAAElB,GAAG,KAAM;QAAEmB,EAAE,EAAEnB,GAAG,CAACmB,EAAE;QAAE,GAAGnB,GAAG,CAACoB,IAAI,CAAC;MAAE,CAAC,CAAC,CAAC;MACpEV,QAAQ,CAACM,IAAI,CAAC;MACdJ,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC;IAED,IAAIJ,eAAe,KAAK,OAAO,EAAE;MAC/BM,UAAU,CAAC,CAAC;IACd;EACF,CAAC,EAAE,CAACN,eAAe,CAAC,CAAC;EAErB,MAAMa,gBAAgB,GAAG,MAAAA,CAAOC,MAAM,EAAEC,OAAO,KAAK;IAClD,MAAMC,GAAG,GAAGxB,GAAG,CAACC,EAAE,EAAE,OAAO,EAAEqB,MAAM,CAAC;IACpC,MAAMvB,SAAS,CAACyB,GAAG,EAAE;MAAEjB,IAAI,EAAEgB;IAAQ,CAAC,CAAC;IACvCb,QAAQ,CAAEe,IAAI,IACZA,IAAI,CAACP,GAAG,CAAEQ,CAAC,IAAMA,CAAC,CAACP,EAAE,KAAKG,MAAM,GAAG;MAAE,GAAGI,CAAC;MAAEnB,IAAI,EAAEgB;IAAQ,CAAC,GAAGG,CAAE,CACjE,CAAC;EACH,CAAC;EAED,IAAIlB,eAAe,KAAK,OAAO,EAAE;IAC/B,oBAAOJ,OAAA;MAAGuB,SAAS,EAAC,KAAK;MAAAC,QAAA,EAAC;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAC9C;EAEA,oBACE5B,OAAA;IAAKuB,SAAS,EAAC,uBAAuB;IAAAC,QAAA,gBACpCxB,OAAA;MAAIuB,SAAS,EAAC,wBAAwB;MAAAC,QAAA,EAAC;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACvDrB,OAAO,gBACNP,OAAA;MAAAwB,QAAA,EAAG;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAEvB5B,OAAA;MAAKuB,SAAS,EAAC,eAAe;MAAAC,QAAA,eAC5BxB,OAAA;QAAOuB,SAAS,EAAC,4DAA4D;QAAAC,QAAA,gBAC3ExB,OAAA;UAAOuB,SAAS,EAAC,8BAA8B;UAAAC,QAAA,eAC7CxB,OAAA;YAAAwB,QAAA,gBACExB,OAAA;cAAIuB,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACxC5B,OAAA;cAAIuB,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACvC5B,OAAA;cAAIuB,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACxC5B,OAAA;cAAIuB,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACxC5B,OAAA;cAAIuB,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACxC5B,OAAA;cAAIuB,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC3C5B,OAAA;cAAIuB,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACR5B,OAAA;UAAAwB,QAAA,EACGnB,KAAK,CAACS,GAAG,CAAEQ,CAAC,iBACXtB,OAAA;YAAeuB,SAAS,EAAC,+CAA+C;YAAAC,QAAA,gBACtExB,OAAA;cAAIuB,SAAS,EAAC,KAAK;cAAAC,QAAA,EAAEF,CAAC,CAACO,SAAS,IAAI;YAAG;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC7C5B,OAAA;cAAIuB,SAAS,EAAC,KAAK;cAAAC,QAAA,EAAEF,CAAC,CAACQ,QAAQ,IAAI;YAAG;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC5C5B,OAAA;cAAIuB,SAAS,EAAC,KAAK;cAAAC,QAAA,EAAEF,CAAC,CAACS,KAAK,IAAI;YAAG;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACzC5B,OAAA;cAAIuB,SAAS,EAAC,KAAK;cAAAC,QAAA,EAAEF,CAAC,CAACU,KAAK,IAAI;YAAG;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACzC5B,OAAA;cAAIuB,SAAS,EAAC,KAAK;cAAAC,QAAA,EAAEF,CAAC,CAACW,KAAK,IAAI;YAAG;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACzC5B,OAAA;cAAIuB,SAAS,EAAC,KAAK;cAAAC,QAAA,EAAEF,CAAC,CAACY,QAAQ,IAAI;YAAG;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC5C5B,OAAA;cAAIuB,SAAS,EAAC,KAAK;cAAAC,QAAA,eACjBxB,OAAA;gBACEmC,KAAK,EAAEb,CAAC,CAACnB,IAAK;gBACdiC,QAAQ,EAAGC,CAAC,IAAKpB,gBAAgB,CAACK,CAAC,CAACP,EAAE,EAAEsB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;gBACxDZ,SAAS,EAAC,qEAAqE;gBAAAC,QAAA,EAE9Ef,KAAK,CAACK,GAAG,CAAEyB,CAAC,iBACXvC,OAAA;kBAAgBmC,KAAK,EAAEI,CAAE;kBAAAf,QAAA,EACtBe;gBAAC,GADSA,CAAC;kBAAAd,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAEN,CACT;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACP,CAAC;UAAA,GAnBEN,CAAC,CAACP,EAAE;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAoBT,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAC1B,EAAA,CAjFuBD,UAAU;EAAA,QACEH,OAAO;AAAA;AAAA0C,EAAA,GADnBvC,UAAU;AAAA,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}