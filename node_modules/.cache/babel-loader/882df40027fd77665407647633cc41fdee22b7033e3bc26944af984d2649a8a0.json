{"ast":null,"code":"import{useEffect,useState,useContext}from\"react\";import{collection,getDocs,query,orderBy}from\"firebase/firestore\";import{db}from\"../firebase\";import{useAuth}from\"../context/AuthContext\";import dayjs from\"dayjs\";import{TournamentContext}from\"../context/TournamentContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Agenda(){const{user}=useAuth();const{currentTournament}=useContext(TournamentContext);const[matches,setMatches]=useState([]);useEffect(()=>{const fetchMatches=async()=>{if(!currentTournament)return;const q=query(collection(db,`tournaments/${currentTournament}/matches`),orderBy(\"date\"),orderBy(\"time\"));const snapshot=await getDocs(q);const result=snapshot.docs.map(doc=>({id:doc.id,...doc.data()}));setMatches(result);};fetchMatches();},[currentTournament]);const fullName=`${user===null||user===void 0?void 0:user.firstName} ${user===null||user===void 0?void 0:user.lastName}`;const relevantMatches=matches.filter(m=>m.team1===fullName||m.team2===fullName||m.umpire===fullName);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 max-w-3xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold mb-4 text-black dark:text-white\",children:\"Your Match Agenda\"}),relevantMatches.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 dark:text-gray-300\",children:\"No matches found for your name.\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-4\",children:relevantMatches.map(match=>/*#__PURE__*/_jsxs(\"li\",{className:\"border rounded p-4 bg-white dark:bg-gray-700 shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-md font-semibold dark:text-white\",children:[dayjs(match.date).format(\"dddd, MMM D\"),\" at \",match.time]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm dark:text-gray-300\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Division:\"}),\" \",match.division,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Teams:\"}),\" \",match.team1,\" vs \",match.team2,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Umpire:\"}),\" \",match.umpire,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Venue:\"}),\" \",match.venue]})]},match.id))})]});}","map":{"version":3,"names":["useEffect","useState","useContext","collection","getDocs","query","orderBy","db","useAuth","dayjs","TournamentContext","jsx","_jsx","jsxs","_jsxs","Agenda","user","currentTournament","matches","setMatches","fetchMatches","q","snapshot","result","docs","map","doc","id","data","fullName","firstName","lastName","relevantMatches","filter","m","team1","team2","umpire","className","children","length","match","date","format","time","division","venue"],"sources":["/Users/andrewhall-villiers/Downloads/match-report-app-final-complete/src/pages/Agenda.jsx"],"sourcesContent":["import { useEffect, useState, useContext } from \"react\";\nimport { collection, getDocs, query, orderBy } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nimport { useAuth } from \"../context/AuthContext\";\nimport dayjs from \"dayjs\";\nimport { TournamentContext } from \"../context/TournamentContext\";\n\nexport default function Agenda() {\n  const { user } = useAuth();\n  const { currentTournament } = useContext(TournamentContext);\n  const [matches, setMatches] = useState([]);\n\n  useEffect(() => {\n    const fetchMatches = async () => {\n      if (!currentTournament) return;\n      const q = query(\n        collection(db, `tournaments/${currentTournament}/matches`),\n        orderBy(\"date\"),\n        orderBy(\"time\")\n      );\n      const snapshot = await getDocs(q);\n      const result = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n      setMatches(result);\n    };\n\n    fetchMatches();\n  }, [currentTournament]);\n\n  const fullName = `${user?.firstName} ${user?.lastName}`;\n\n  const relevantMatches = matches.filter(\n    m =>\n      m.team1 === fullName ||\n      m.team2 === fullName ||\n      m.umpire === fullName\n  );\n\n  return (\n    <div className=\"p-4 max-w-3xl mx-auto\">\n      <h1 className=\"text-xl font-bold mb-4 text-black dark:text-white\">Your Match Agenda</h1>\n      {relevantMatches.length === 0 && (\n        <p className=\"text-gray-700 dark:text-gray-300\">No matches found for your name.</p>\n      )}\n      <ul className=\"space-y-4\">\n        {relevantMatches.map(match => (\n          <li key={match.id} className=\"border rounded p-4 bg-white dark:bg-gray-700 shadow\">\n            <div className=\"text-md font-semibold dark:text-white\">\n              {dayjs(match.date).format(\"dddd, MMM D\")} at {match.time}\n            </div>\n            <div className=\"text-sm dark:text-gray-300\">\n              <strong>Division:</strong> {match.division}<br />\n              <strong>Teams:</strong> {match.team1} vs {match.team2}<br />\n              <strong>Umpire:</strong> {match.umpire}<br />\n              <strong>Venue:</strong> {match.venue}\n            </div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}