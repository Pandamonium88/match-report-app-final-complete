{"ast":null,"code":"import{useState,useEffect}from\"react\";import{db}from\"../firebase\";import{collection,addDoc,getDocs,Timestamp,query,orderBy}from\"firebase/firestore\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TournamentAdmin(){const[tournaments,setTournaments]=useState([]);const[newTournament,setNewTournament]=useState(\"\");useEffect(()=>{const fetchTournaments=async()=>{const q=query(collection(db,\"tournaments\"),orderBy(\"created\",\"desc\"));const querySnapshot=await getDocs(q);const data=querySnapshot.docs.map(doc=>({id:doc.id,...doc.data()}));setTournaments(data);};fetchTournaments();},[]);const handleAddTournament=async()=>{if(!newTournament.trim())return;const docRef=await addDoc(collection(db,\"tournaments\"),{name:newTournament.trim(),created:Timestamp.now()});setTournaments([{id:docRef.id,name:newTournament.trim(),created:new Date()},...tournaments]);setNewTournament(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Tournament Administration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 rounded w-full\",value:newTournament,onChange:e=>setNewTournament(e.target.value),placeholder:\"Enter new tournament name\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddTournament,className:\"bg-blue-600 text-white px-4 py-2 rounded\",children:\"Add\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:tournaments.map(t=>/*#__PURE__*/_jsxs(\"li\",{className:\"border p-2 rounded bg-white dark:bg-gray-700 dark:text-white\",children:[t.name,\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500 ml-2\",children:[\"(\",new Date(t.created.seconds*1000).toLocaleDateString(),\")\"]})]},t.id))})]});}","map":{"version":3,"names":["useState","useEffect","db","collection","addDoc","getDocs","Timestamp","query","orderBy","jsx","_jsx","jsxs","_jsxs","TournamentAdmin","tournaments","setTournaments","newTournament","setNewTournament","fetchTournaments","q","querySnapshot","data","docs","map","doc","id","handleAddTournament","trim","docRef","name","created","now","Date","className","children","value","onChange","e","target","placeholder","onClick","t","seconds","toLocaleDateString"],"sources":["/Users/andrewhall-villiers/Downloads/match-report-app-final-complete/src/pages/TournamentAdmin.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { db } from \"../firebase\";\nimport {\n  collection,\n  addDoc,\n  getDocs,\n  Timestamp,\n  query,\n  orderBy,\n} from \"firebase/firestore\";\n\nexport default function TournamentAdmin() {\n  const [tournaments, setTournaments] = useState([]);\n  const [newTournament, setNewTournament] = useState(\"\");\n\n  useEffect(() => {\n    const fetchTournaments = async () => {\n      const q = query(collection(db, \"tournaments\"), orderBy(\"created\", \"desc\"));\n      const querySnapshot = await getDocs(q);\n      const data = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n      setTournaments(data);\n    };\n    fetchTournaments();\n  }, []);\n\n  const handleAddTournament = async () => {\n    if (!newTournament.trim()) return;\n    const docRef = await addDoc(collection(db, \"tournaments\"), {\n      name: newTournament.trim(),\n      created: Timestamp.now(),\n    });\n    setTournaments([{ id: docRef.id, name: newTournament.trim(), created: new Date() }, ...tournaments]);\n    setNewTournament(\"\");\n  };\n\n  return (\n    <div className=\"p-4\">\n      <h2 className=\"text-xl font-bold mb-4\">Tournament Administration</h2>\n      <div className=\"flex gap-2 mb-4\">\n        <input\n          className=\"border p-2 rounded w-full\"\n          value={newTournament}\n          onChange={(e) => setNewTournament(e.target.value)}\n          placeholder=\"Enter new tournament name\"\n        />\n        <button onClick={handleAddTournament} className=\"bg-blue-600 text-white px-4 py-2 rounded\">\n          Add\n        </button>\n      </div>\n      <ul className=\"space-y-2\">\n        {tournaments.map((t) => (\n          <li key={t.id} className=\"border p-2 rounded bg-white dark:bg-gray-700 dark:text-white\">\n            {t.name} <span className=\"text-sm text-gray-500 ml-2\">({new Date(t.created.seconds * 1000).toLocaleDateString()})</span>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}