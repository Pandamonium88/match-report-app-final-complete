{"version":3,"file":"static/js/215.6a5afec1.chunk.js","mappings":"uLAce,SAASA,IACtB,MAAOC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,KAC1BC,EAAaC,IAAkBF,EAAAA,EAAAA,UAAS,KACxCG,EAAUC,IAAeJ,EAAAA,EAAAA,UAAS,OAEzCK,EAAAA,EAAAA,YAAU,KACRC,GAAkB,GACjB,IAEH,MAAMA,EAAmBC,UACvB,MACMC,SADiBC,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,iBACzBC,KAAKC,KAAIC,IAAG,CAAOC,GAAID,EAAIC,MAAOD,EAAIE,WAC3Dd,EAAeM,GACf,MAAMS,EAAST,EAAIU,MAAKC,GAAKA,EAAEC,WAC3BH,GAAQb,EAAYa,EAAOF,GAAG,EA0BpC,OACEM,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKC,SAAA,EAClBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,yBAAwBC,SAAC,yBAEvCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,KAAA,SACEC,KAAK,OACLC,YAAY,kBACZJ,UAAU,uEACVK,MAAO7B,EACP8B,SAAWC,GAAM9B,EAAQ8B,EAAEC,OAAOH,UAEpCH,EAAAA,EAAAA,KAAA,UAAQO,QAnCOxB,UACnB,IAAKT,EAAKkC,OAAQ,aACGC,EAAAA,EAAAA,KAAOvB,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,eAAgB,CACzDb,OACAsB,UAAU,EACVc,UAAW,IAAIC,OAEjBpC,EAAQ,IACRO,GAAkB,EA2BiBgB,UAAU,4CAA2CC,SAAC,0BAKvFC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,6BAA4BC,SAAC,0BAC3CC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,YAAWC,SACtBtB,EAAYY,KAAIM,IACfE,EAAAA,EAAAA,MAAA,MAAeC,UAAU,0EAAyEC,SAAA,EAChGC,EAAAA,EAAAA,KAAA,QAAAD,SAAOJ,EAAErB,QACT0B,EAAAA,EAAAA,KAAA,UACEO,QAASA,IAnCOxB,WAC1B,MACM6B,SADiB3B,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,iBACrBC,KAAKC,KAAIwB,IAChCC,EAAAA,EAAAA,KAAUxB,EAAAA,EAAAA,IAAIH,EAAAA,GAAI,cAAe0B,EAAOtB,IAAK,CAC3CK,SAAUiB,EAAOtB,KAAOA,YAGtBwB,QAAQ/B,IAAI4B,GAClBhC,EAAYW,GACZT,GAAkB,EA0BOkC,CAAoBrB,EAAEJ,IACrCO,UAAW,sBAAqBH,EAAEJ,KAAOZ,EAAW,yBAA2B,gCAAiCoB,SAE/GJ,EAAEJ,KAAOZ,EAAW,SAAW,iBAN3BgB,EAAEJ,UAarB,C","sources":["pages/TournamentSettings.jsx"],"sourcesContent":["// src/pages/TournamentSettings.jsx\n\nimport { useEffect, useState } from \"react\";\nimport { db } from \"../firebase\";\nimport {\n  collection,\n  addDoc,\n  getDocs,\n  updateDoc,\n  doc,\n  query,\n  where\n} from \"firebase/firestore\";\n\nexport default function TournamentSettings() {\n  const [name, setName] = useState(\"\");\n  const [tournaments, setTournaments] = useState([]);\n  const [activeId, setActiveId] = useState(null);\n\n  useEffect(() => {\n    fetchTournaments();\n  }, []);\n\n  const fetchTournaments = async () => {\n    const snapshot = await getDocs(collection(db, \"tournaments\"));\n    const all = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n    setTournaments(all);\n    const active = all.find(t => t.isActive);\n    if (active) setActiveId(active.id);\n  };\n\n  const handleCreate = async () => {\n    if (!name.trim()) return;\n    const docRef = await addDoc(collection(db, \"tournaments\"), {\n      name,\n      isActive: false,\n      createdAt: new Date()\n    });\n    setName(\"\");\n    fetchTournaments();\n  };\n\n  const setActiveTournament = async (id) => {\n    const snapshot = await getDocs(collection(db, \"tournaments\"));\n    const updates = snapshot.docs.map(docRef =>\n      updateDoc(doc(db, \"tournaments\", docRef.id), {\n        isActive: docRef.id === id\n      })\n    );\n    await Promise.all(updates);\n    setActiveId(id);\n    fetchTournaments();\n  };\n\n  return (\n    <div className=\"p-4\">\n      <h2 className=\"text-xl font-bold mb-4\">Tournament Settings</h2>\n\n      <div className=\"mb-4\">\n        <input\n          type=\"text\"\n          placeholder=\"Tournament name\"\n          className=\"border p-2 mr-2 bg-white dark:bg-gray-800 text-black dark:text-white\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n        <button onClick={handleCreate} className=\"bg-green-600 text-white px-4 py-2 rounded\">\n          Create Tournament\n        </button>\n      </div>\n\n      <h3 className=\"text-lg font-semibold mb-2\">Existing Tournaments</h3>\n      <ul className=\"space-y-2\">\n        {tournaments.map(t => (\n          <li key={t.id} className=\"flex justify-between items-center bg-white dark:bg-gray-700 p-2 rounded\">\n            <span>{t.name}</span>\n            <button\n              onClick={() => setActiveTournament(t.id)}\n              className={`px-3 py-1 rounded ${t.id === activeId ? \"bg-blue-500 text-white\" : \"bg-gray-300 dark:bg-gray-600\"}`}\n            >\n              {t.id === activeId ? \"Active\" : \"Set Active\"}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}"],"names":["TournamentSettings","name","setName","useState","tournaments","setTournaments","activeId","setActiveId","useEffect","fetchTournaments","async","all","getDocs","collection","db","docs","map","doc","id","data","active","find","t","isActive","_jsxs","className","children","_jsx","type","placeholder","value","onChange","e","target","onClick","trim","addDoc","createdAt","Date","updates","docRef","updateDoc","Promise","setActiveTournament"],"sourceRoot":""}